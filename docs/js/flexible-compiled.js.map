{"version":3,"sources":["flexible.js"],"names":[],"mappings":"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","file":"flexible-compiled.js","sourcesContent":["!function(e,t){function i(){var t=n.getBoundingClientRect().width;t/m>540&&(t=540*m);var i=t/10;n.style.fontSize=i+\"px\",d.rem=e.rem=i}var a,r=e.document,n=r.documentElement,o=r.querySelector('meta[name=\"viewport\"]'),l=r.querySelector('meta[name=\"flexible\"]'),m=0,s=0,d=t.flexible||(t.flexible={});if(o){console.warn(\"将根据已有的meta标签来设置缩放比例\");var p=o.getAttribute(\"content\").match(/initial\\-scale=([\\d\\.]+)/);p&&(s=parseFloat(p[1]),m=parseInt(1/s))}else if(l){var c=l.getAttribute(\"content\");if(c){var u=c.match(/initial\\-dpr=([\\d\\.]+)/),f=c.match(/maximum\\-dpr=([\\d\\.]+)/);u&&(m=parseFloat(u[1]),s=parseFloat((1/m).toFixed(2))),f&&(m=parseFloat(f[1]),s=parseFloat((1/m).toFixed(2)))}}if(!m&&!s){var v=(e.navigator.appVersion.match(/android/gi),e.navigator.appVersion.match(/iphone/gi)),h=e.devicePixelRatio;m=v?h>=3&&(!m||m>=3)?3:h>=2&&(!m||m>=2)?2:1:1,s=1/m}if(n.setAttribute(\"data-dpr\",m),!o)if(o=r.createElement(\"meta\"),o.setAttribute(\"name\",\"viewport\"),o.setAttribute(\"content\",\"initial-scale=\"+s+\", maximum-scale=\"+s+\", minimum-scale=\"+s+\", user-scalable=no\"),n.firstElementChild)n.firstElementChild.appendChild(o);else{var x=r.createElement(\"div\");x.appendChild(o),r.write(x.innerHTML)}e.addEventListener(\"resize\",function(){clearTimeout(a),a=setTimeout(i,300)},!1),e.addEventListener(\"pageshow\",function(e){e.persisted&&(clearTimeout(a),a=setTimeout(i,300))},!1),\"complete\"===r.readyState?r.body.style.fontSize=12*m+\"px\":r.addEventListener(\"DOMContentLoaded\",function(e){r.body.style.fontSize=12*m+\"px\"},!1),i(),d.dpr=e.dpr=m,d.refreshRem=i,d.rem2px=function(e){var t=parseFloat(e)*this.rem;return\"string\"==typeof e&&e.match(/rem$/)&&(t+=\"px\"),t},d.px2rem=function(e){var t=parseFloat(e)/this.rem;return\"string\"==typeof e&&e.match(/px$/)&&(t+=\"rem\"),t}}(window,window.lib||(window.lib={}));"]}